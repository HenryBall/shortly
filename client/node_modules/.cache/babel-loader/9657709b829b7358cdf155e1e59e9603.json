{"ast":null,"code":"import _classCallCheck from \"/Users/henry/urlshrink/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/henry/urlshrink/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/henry/urlshrink/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/henry/urlshrink/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/henry/urlshrink/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/henry/urlshrink/client/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      url: \"\"\n    };\n\n    _this.shortenUrl = function () {\n      var url = _this.state.url;\n      axios.post(\"http://localhost:3001/api/item\", {\n        originalUrl: url,\n        shortBaseUrl: \"http://localhost\"\n      }).then(function (res) {\n        var shortUrl = String(res.data.shortUrl);\n\n        _this.setState({\n          url: shortUrl\n        });\n      }).catch(function (err) {\n        console.log(err.res);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {}\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(event) {\n      this.setState({\n        url: event.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n\n    /*\n      getDataFromDb = () => {\n        fetch(\"http://localhost:3001/api/getData\")\n          .then(data => data.json())\n          .then(res => this.setState({ data: res.data }));\n      };\n    \n      deleteFromDB = idTodelete => {\n        let objIdToDelete = null;\n        this.state.data.forEach(dat => {\n          if (dat.id === idTodelete) {\n            objIdToDelete = dat._id;\n          }\n        });\n    \n        axios.delete(\"http://localhost:3001/api/deleteData\", {\n          data: {\n            id: objIdToDelete\n          }\n        });\n      };\n    \n      updateDB = (idToUpdate, updateToApply) => {\n        let objIdToUpdate = null;\n        this.state.data.forEach(dat => {\n          if (dat.id === idToUpdate) {\n            objIdToUpdate = dat._id;\n          }\n        });\n    \n        axios.post(\"http://localhost:3001/api/updateData\", {\n          id: objIdToUpdate,\n          update: { message: updateToApply }\n        });\n      };\n    */\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Get more out of your links. \"), React.createElement(\"div\", {\n        id: \"inputContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.url,\n        onChange: this.handleInputChange.bind(this),\n        placeholder: \"Paste a link to shorten it\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"shortenBtn\",\n        onClick: function onClick() {\n          return _this2.shortenUrl();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Shorten\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/henry/urlshrink/client/src/App.js"],"names":["React","Component","axios","App","state","url","shortenUrl","post","originalUrl","shortBaseUrl","then","res","shortUrl","String","data","setState","catch","err","console","log","event","target","value","handleInputChange","bind"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;;IAEMC,G;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,GAAG,EAAE;AADC,K;;UAgBRC,U,GAAa,YAAM;AACjB,UAAMD,GAAG,GAAG,MAAKD,KAAL,CAAWC,GAAvB;AACAH,MAAAA,KAAK,CAACK,IAAN,CAAW,gCAAX,EAA6C;AAC3CC,QAAAA,WAAW,EAAEH,GAD8B;AAE3CI,QAAAA,YAAY,EAAE;AAF6B,OAA7C,EAGGC,IAHH,CAGS,UAAAC,GAAG,EAAI;AACd,YAAMC,QAAQ,GAAGC,MAAM,CAACF,GAAG,CAACG,IAAJ,CAASF,QAAV,CAAvB;;AACA,cAAKG,QAAL,CAAc;AAACV,UAAAA,GAAG,EAAEO;AAAN,SAAd;AACD,OAND,EAOCI,KAPD,CAOQ,UAAAC,GAAG,EAAI;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACN,GAAhB;AACD,OATD;AAUD,K;;;;;;;wCAxBmB,CAEnB;;;2CAEsB,CAEtB;;;sCAEiBS,K,EAAO;AACvB,WAAKL,QAAL,CAAc;AAACV,QAAAA,GAAG,EAAEe,KAAK,CAACC,MAAN,CAAaC;AAAnB,OAAd;AACD;;;;AAgBH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6BAqCW;AAAA;;AACP,aACI;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCADF,EAEE;AAAK,QAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWC,GAFpB;AAGE,QAAA,QAAQ,EAAE,KAAKkB,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAHZ;AAIE,QAAA,WAAW,EAAC,4BAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAOE;AACE,QAAA,EAAE,EAAC,YADL;AAEE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAClB,UAAL,EAAN;AAAA,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAPF,CAFF,CADJ;AAkBD;;;;EAxFeL,S;;AA2FlB,eAAeE,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\n\nclass App extends Component {\n  // initialize our state \n  state = {\n    url: \"\",\n  };\n\n  componentDidMount() {\n    \n  }\n\n  componentWillUnmount() {\n    \n  }\n\n  handleInputChange(event) {\n    this.setState({url: event.target.value});\n  }\n\n  shortenUrl = () => {\n    const url = this.state.url;\n    axios.post(\"http://localhost:3001/api/item\", {\n      originalUrl: url,\n      shortBaseUrl: \"http://localhost\"\n    }).then( res => {\n      const shortUrl = String(res.data.shortUrl);\n      this.setState({url: shortUrl});\n    })\n    .catch( err => {\n      console.log(err.res);\n    });\n  };\n\n/*\n  getDataFromDb = () => {\n    fetch(\"http://localhost:3001/api/getData\")\n      .then(data => data.json())\n      .then(res => this.setState({ data: res.data }));\n  };\n\n  deleteFromDB = idTodelete => {\n    let objIdToDelete = null;\n    this.state.data.forEach(dat => {\n      if (dat.id === idTodelete) {\n        objIdToDelete = dat._id;\n      }\n    });\n\n    axios.delete(\"http://localhost:3001/api/deleteData\", {\n      data: {\n        id: objIdToDelete\n      }\n    });\n  };\n\n  updateDB = (idToUpdate, updateToApply) => {\n    let objIdToUpdate = null;\n    this.state.data.forEach(dat => {\n      if (dat.id === idToUpdate) {\n        objIdToUpdate = dat._id;\n      }\n    });\n\n    axios.post(\"http://localhost:3001/api/updateData\", {\n      id: objIdToUpdate,\n      update: { message: updateToApply }\n    });\n  };\n*/\n\n  render() {\n    return (\n        <div className=\"center\">\n          <h1>Get more out of your links. </h1>\n          <div id=\"inputContainer\">\n            <input\n              type=\"text\"\n              value={this.state.url}\n              onChange={this.handleInputChange.bind(this)}\n              placeholder=\"Paste a link to shorten it\"\n            />\n            <button\n              id=\"shortenBtn\"\n              onClick={() => this.shortenUrl()}>\n              Shorten\n            </button>\n          </div>\n        </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}